/*-------------------------------------------------------------------------
Copyright (c) 2016 AZO typesylph@gmail.com
  referred to David Welch https://github.com/dwelch67

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files
(the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE
FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-------------------------------------------------------------------------*/

#include "rp_baremetal.h"

//-------------------------------------------------------------------------
void c_irq_handler(void)
{
}

//-------------------------------------------------------------------------
static __attribute__ ((aligned (32))) bcm283x_dma_cb_t dma_cb_data;

//-------------------------------------------------------------------------
typedef struct azo_pcmdata {
	uint32_t size;
	uint32_t channels;
	uint32_t samplerate;
	uint32_t mclk;
	uint32_t bitswidth;
	uint32_t loopcount;
	uint32_t endless;
	void* data;
} azo_pcmdata_t;

//-------------------------------------------------------------------------
typedef struct azo_rawpcmdata {
	uint32_t size;
	uint32_t samplerate;
	uint32_t mclk;
	uint32_t bitswidth;
	uint32_t loopcount;
	uint32_t endless;
	void* data;
} azo_rawpcmdata_t;

//-------------------------------------------------------------------------
static __attribute__ ((aligned (4))) uint8_t azo_sin_1k_raw[6144];

//-------------------------------------------------------------------------
uint16_t azo_sin_1k_48khz16bit[48] = {
	0x0000, 0x10B5, 0x2120, 0x30FB, 0x3FFF, 0x4DEB, 0x5A82, 0x658C, 0x6ED9, 0x7641, 0x7BA3, 0x7EE7, 0x7FFF, 0x7EE7, 0x7BA3, 0x7641, 
	0x6ED9, 0x658C, 0x5A82, 0x4DEB, 0x4000, 0x30FB, 0x2120, 0x10B5, 0x0000, 0xEF4B, 0xDEE0, 0xCF05, 0xC001, 0xB215, 0xA57E, 0x9A74, 
	0x9127, 0x89BF, 0x845D, 0x8119, 0x8000, 0x8119, 0x845D, 0x89BF, 0x9127, 0x9A74, 0xA57E, 0xB215, 0xC000, 0xCF05, 0xDEE0, 0xEF4B,
};

uint16_t azo_square_1k_48khz16bit[48] = {
	0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 
	0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 
	0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
};

uint16_t azo_sawtooth_1k_48khz16bit[48] = {
	0x0000, 0x0555, 0x0AAA, 0x1000, 0x1555, 0x1AAA, 0x2000, 0x2555, 0x2AAA, 0x3000, 0x3555, 0x3AAA, 0x4000, 0x4555, 0x4AAA, 0x5000, 
	0x5555, 0x5AAA, 0x6000, 0x6555, 0x6AAA, 0x7000, 0x7555, 0x7AAA, 0x7FFF, 0x8556, 0x8AAB, 0x9000, 0x9556, 0x9AAB, 0xA000, 0xA556, 
	0xAAAB, 0xB000, 0xB556, 0xBAAB, 0xC000, 0xC556, 0xCAAB, 0xD000, 0xD556, 0xDAAB, 0xE000, 0xE556, 0xEAAB, 0xF000, 0xF556, 0xFAAB,
};

uint16_t azo_triangle_1k_48khz16bit[48] = {
	0x0000, 0x0AAA, 0x1555, 0x2000, 0x2AAA, 0x3555, 0x4000, 0x4AAA, 0x5555, 0x6000, 0x6AAA, 0x7555, 0x7FFF, 0x7554, 0x6AA9, 0x5FFF, 
	0x5554, 0x4AA9, 0x3FFF, 0x3554, 0x2AA9, 0x1FFF, 0x1554, 0x0AA9, 0xFFFF, 0xF555, 0xEAAA, 0xDFFF, 0xD555, 0xCAAA, 0xBFFF, 0xB555, 
	0xAAAA, 0x9FFF, 0x9555, 0x8AAA, 0x8000, 0x8AAB, 0x9556, 0xA000, 0xAAAB, 0xB556, 0xC000, 0xCAAB, 0xD556, 0xE000, 0xEAAB, 0xF556,
};

uint16_t azo_sin_1k_384khz16bit[384] = {
	0x0000, 0x0218, 0x0430, 0x0647, 0x085F, 0x0A75, 0x0C8B, 0x0EA0, 0x10B5, 0x12C8, 0x14D9, 0x16EA, 0x18F8, 0x1B05, 0x1D10, 0x1F19,
	0x2120, 0x2325, 0x2528, 0x2727, 0x2924, 0x2B1F, 0x2D16, 0x2F0A, 0x30FB, 0x32E9, 0x34D3, 0x36BA, 0x389C, 0x3A7B, 0x3C56, 0x3E2D,
	0x3FFF, 0x41CE, 0x4397, 0x455C, 0x471C, 0x48D8, 0x4A8E, 0x4C3F, 0x4DEB, 0x4F92, 0x5133, 0x52CF, 0x5465, 0x55F5, 0x577F, 0x5904,
	0x5A82, 0x5BFA, 0x5D6C, 0x5ED7, 0x603C, 0x619A, 0x62F2, 0x6442, 0x658C, 0x66CF, 0x680B, 0x6940, 0x6A6D, 0x6B93, 0x6CB2, 0x6DCA,
	0x6ED9, 0x6FE2, 0x70E2, 0x71DB, 0x72CC, 0x73B5, 0x7497, 0x7570, 0x7641, 0x770A, 0x77CB, 0x7884, 0x7935, 0x79DD, 0x7A7D, 0x7B14,
	0x7BA3, 0x7C29, 0x7CA8, 0x7D1D, 0x7D8A, 0x7DEE, 0x7E4A, 0x7E9D, 0x7EE7, 0x7F29, 0x7F62, 0x7F92, 0x7FB9, 0x7FD8, 0x7FEE, 0x7FFB,
	0x7FFF, 0x7FFB, 0x7FEE, 0x7FD8, 0x7FB9, 0x7F92, 0x7F62, 0x7F29, 0x7EE7, 0x7E9D, 0x7E4A, 0x7DEE, 0x7D8A, 0x7D1D, 0x7CA8, 0x7C29,
	0x7BA3, 0x7B14, 0x7A7D, 0x79DD, 0x7935, 0x7884, 0x77CB, 0x770A, 0x7641, 0x7570, 0x7497, 0x73B5, 0x72CC, 0x71DB, 0x70E2, 0x6FE2,
	0x6ED9, 0x6DCA, 0x6CB2, 0x6B93, 0x6A6D, 0x6940, 0x680B, 0x66CF, 0x658C, 0x6442, 0x62F2, 0x619A, 0x603C, 0x5ED7, 0x5D6C, 0x5BFA,
	0x5A82, 0x5904, 0x577F, 0x55F5, 0x5465, 0x52CF, 0x5133, 0x4F92, 0x4DEB, 0x4C3F, 0x4A8E, 0x48D8, 0x471C, 0x455C, 0x4397, 0x41CE,
	0x4000, 0x3E2D, 0x3C56, 0x3A7B, 0x389C, 0x36BA, 0x34D3, 0x32E9, 0x30FB, 0x2F0A, 0x2D16, 0x2B1F, 0x2924, 0x2727, 0x2528, 0x2325,
	0x2120, 0x1F19, 0x1D10, 0x1B05, 0x18F8, 0x16EA, 0x14D9, 0x12C8, 0x10B5, 0x0EA0, 0x0C8B, 0x0A75, 0x085F, 0x0647, 0x0430, 0x0218,
	0x0000, 0xFDE8, 0xFBD0, 0xF9B9, 0xF7A1, 0xF58B, 0xF375, 0xF160, 0xEF4B, 0xED38, 0xEB27, 0xE916, 0xE708, 0xE4FB, 0xE2F0, 0xE0E7,
	0xDEE0, 0xDCDB, 0xDAD8, 0xD8D9, 0xD6DC, 0xD4E1, 0xD2EA, 0xD0F6, 0xCF05, 0xCD17, 0xCB2D, 0xC946, 0xC764, 0xC585, 0xC3AA, 0xC1D3,
	0xC001, 0xBE32, 0xBC69, 0xBAA4, 0xB8E4, 0xB728, 0xB572, 0xB3C1, 0xB215, 0xB06E, 0xAECD, 0xAD31, 0xAB9B, 0xAA0B, 0xA881, 0xA6FC,
	0xA57E, 0xA406, 0xA294, 0xA129, 0x9FC4, 0x9E66, 0x9D0E, 0x9BBE, 0x9A74, 0x9931, 0x97F5, 0x96C0, 0x9593, 0x946D, 0x934E, 0x9236,
	0x9127, 0x901E, 0x8F1E, 0x8E25, 0x8D34, 0x8C4B, 0x8B69, 0x8A90, 0x89BF, 0x88F6, 0x8835, 0x877C, 0x86CB, 0x8623, 0x8583, 0x84EC,
	0x845D, 0x83D7, 0x8358, 0x82E3, 0x8276, 0x8212, 0x81B6, 0x8163, 0x8119, 0x80D7, 0x809E, 0x806E, 0x8047, 0x8028, 0x8012, 0x8005,
	0x8000, 0x8005, 0x8012, 0x8028, 0x8047, 0x806E, 0x809E, 0x80D7, 0x8119, 0x8163, 0x81B6, 0x8212, 0x8276, 0x82E3, 0x8358, 0x83D7,
	0x845D, 0x84EC, 0x8583, 0x8623, 0x86CB, 0x877C, 0x8835, 0x88F6, 0x89BF, 0x8A90, 0x8B69, 0x8C4B, 0x8D34, 0x8E25, 0x8F1E, 0x901E,
	0x9127, 0x9236, 0x934E, 0x946D, 0x9593, 0x96C0, 0x97F5, 0x9931, 0x9A74, 0x9BBE, 0x9D0E, 0x9E66, 0x9FC4, 0xA129, 0xA294, 0xA406,
	0xA57E, 0xA6FC, 0xA881, 0xAA0B, 0xAB9B, 0xAD31, 0xAECD, 0xB06E, 0xB215, 0xB3C1, 0xB572, 0xB728, 0xB8E4, 0xBAA4, 0xBC69, 0xBE32,
	0xC000, 0xC1D3, 0xC3AA, 0xC585, 0xC764, 0xC946, 0xCB2D, 0xCD17, 0xCF05, 0xD0F6, 0xD2EA, 0xD4E1, 0xD6DC, 0xD8D9, 0xDAD8, 0xDCDB,
	0xDEE0, 0xE0E7, 0xE2F0, 0xE4FB, 0xE708, 0xE916, 0xEB27, 0xED38, 0xEF4B, 0xF160, 0xF375, 0xF58B, 0xF7A1, 0xF9B9, 0xFBD0, 0xFDE8,
};

uint8_t azo_sin_1k_96khz24bit[288] = {
	0x00, 0x00, 0x00, 0x21, 0x5F, 0x08, 0x15, 0xB5, 0x10, 0xB8, 0xF8, 0x18, 0xFB, 0x20, 0x21,
	0xED, 0x24, 0x29, 0xC5, 0xFB, 0x30, 0xEA, 0x9C, 0x38, 0xFF, 0xFF, 0x3F, 0xEC, 0x1C, 0x47,
	0xE4, 0xEB, 0x4D, 0x71, 0x65, 0x54, 0x79, 0x82, 0x5A, 0x49, 0x3C, 0x60, 0x9A, 0x8C, 0x65,
	0x98, 0x6D, 0x6A, 0xEB, 0xD9, 0x6E, 0xB9, 0xCC, 0x72, 0xAF, 0x41, 0x76, 0x01, 0x35, 0x79,
	0x75, 0xA3, 0x7B, 0x5F, 0x8A, 0x7D, 0xAA, 0xE7, 0x7E, 0xD7, 0xB9, 0x7F, 0xFF, 0xFF, 0x7F,
	0xD7, 0xB9, 0x7F, 0xAA, 0xE7, 0x7E, 0x5F, 0x8A, 0x7D, 0x75, 0xA3, 0x7B, 0x01, 0x35, 0x79,
	0xAF, 0x41, 0x76, 0xB9, 0xCC, 0x72, 0xEB, 0xD9, 0x6E, 0x98, 0x6D, 0x6A, 0x9A, 0x8C, 0x65,
	0x49, 0x3C, 0x60, 0x79, 0x82, 0x5A, 0x71, 0x65, 0x54, 0xE4, 0xEB, 0x4D, 0xEC, 0x1C, 0x47,
	0x00, 0x00, 0x40, 0xEA, 0x9C, 0x38, 0xC5, 0xFB, 0x30, 0xED, 0x24, 0x29, 0xFB, 0x20, 0x21,
	0xB8, 0xF8, 0x18, 0x15, 0xB5, 0x10, 0x21, 0x5F, 0x08, 0x00, 0x00, 0x00, 0xDF, 0xA0, 0xF7,
	0xEB, 0x4A, 0xEF, 0x48, 0x07, 0xE7, 0x05, 0xDF, 0xDE, 0x13, 0xDB, 0xD6, 0x3B, 0x04, 0xCF,
	0x16, 0x63, 0xC7, 0x01, 0x00, 0xC0, 0x14, 0xE3, 0xB8, 0x1C, 0x14, 0xB2, 0x8F, 0x9A, 0xAB,
	0x87, 0x7D, 0xA5, 0xB7, 0xC3, 0x9F, 0x66, 0x73, 0x9A, 0x68, 0x92, 0x95, 0x15, 0x26, 0x91,
	0x47, 0x33, 0x8D, 0x51, 0xBE, 0x89, 0xFF, 0xCA, 0x86, 0x8B, 0x5C, 0x84, 0xA1, 0x75, 0x82,
	0x56, 0x18, 0x81, 0x29, 0x46, 0x80, 0x00, 0x00, 0x80, 0x29, 0x46, 0x80, 0x56, 0x18, 0x81,
	0xA1, 0x75, 0x82, 0x8B, 0x5C, 0x84, 0xFF, 0xCA, 0x86, 0x51, 0xBE, 0x89, 0x47, 0x33, 0x8D,
	0x15, 0x26, 0x91, 0x68, 0x92, 0x95, 0x66, 0x73, 0x9A, 0xB7, 0xC3, 0x9F, 0x87, 0x7D, 0xA5,
	0x8F, 0x9A, 0xAB, 0x1C, 0x14, 0xB2, 0x14, 0xE3, 0xB8, 0x00, 0x00, 0xC0, 0x16, 0x63, 0xC7,
	0x3B, 0x04, 0xCF, 0x13, 0xDB, 0xD6, 0x05, 0xDF, 0xDE, 0x48, 0x07, 0xE7, 0xEB, 0x4A, 0xEF,
	0xDF, 0xA0, 0xF7,
};

uint8_t azo_sin_1k_192khz24bit[576] = {
	0x00, 0x00, 0x00, 0x23, 0x30, 0x04, 0x21, 0x5F, 0x08, 0xD3, 0x8B, 0x0C, 0x15, 0xB5, 0x10,
	0xC2, 0xD9, 0x14, 0xB8, 0xF8, 0x18, 0xD5, 0x10, 0x1D, 0xFB, 0x20, 0x21, 0x0C, 0x28, 0x25,
	0xED, 0x24, 0x29, 0x87, 0x16, 0x2D, 0xC5, 0xFB, 0x30, 0x95, 0xD3, 0x34, 0xEA, 0x9C, 0x38,
	0xBA, 0x56, 0x3C, 0xFF, 0xFF, 0x3F, 0xBA, 0x97, 0x43, 0xEC, 0x1C, 0x47, 0xA1, 0x8E, 0x4A,
	0xE4, 0xEB, 0x4D, 0xCC, 0x33, 0x51, 0x71, 0x65, 0x54, 0xF3, 0x7F, 0x57, 0x79, 0x82, 0x5A,
	0x2F, 0x6C, 0x5D, 0x49, 0x3C, 0x60, 0x01, 0xF2, 0x62, 0x9A, 0x8C, 0x65, 0x5C, 0x0B, 0x68,
	0x98, 0x6D, 0x6A, 0xA8, 0xB2, 0x6C, 0xEB, 0xD9, 0x6E, 0xCB, 0xE2, 0x70, 0xB9, 0xCC, 0x72,
	0x2F, 0x97, 0x74, 0xAF, 0x41, 0x76, 0xC3, 0xCB, 0x77, 0x01, 0x35, 0x79, 0x05, 0x7D, 0x7A,
	0x75, 0xA3, 0x7B, 0x00, 0xA8, 0x7C, 0x5F, 0x8A, 0x7D, 0x54, 0x4A, 0x7E, 0xAA, 0xE7, 0x7E,
	0x36, 0x62, 0x7F, 0xD7, 0xB9, 0x7F, 0x74, 0xEE, 0x7F, 0xFF, 0xFF, 0x7F, 0x74, 0xEE, 0x7F,
	0xD7, 0xB9, 0x7F, 0x36, 0x62, 0x7F, 0xAA, 0xE7, 0x7E, 0x54, 0x4A, 0x7E, 0x5F, 0x8A, 0x7D,
	0x00, 0xA8, 0x7C, 0x75, 0xA3, 0x7B, 0x05, 0x7D, 0x7A, 0x01, 0x35, 0x79, 0xC3, 0xCB, 0x77,
	0xAF, 0x41, 0x76, 0x2F, 0x97, 0x74, 0xB9, 0xCC, 0x72, 0xCB, 0xE2, 0x70, 0xEB, 0xD9, 0x6E,
	0xA8, 0xB2, 0x6C, 0x98, 0x6D, 0x6A, 0x5C, 0x0B, 0x68, 0x9A, 0x8C, 0x65, 0x01, 0xF2, 0x62,
	0x49, 0x3C, 0x60, 0x2F, 0x6C, 0x5D, 0x79, 0x82, 0x5A, 0xF3, 0x7F, 0x57, 0x71, 0x65, 0x54,
	0xCC, 0x33, 0x51, 0xE4, 0xEB, 0x4D, 0xA1, 0x8E, 0x4A, 0xEC, 0x1C, 0x47, 0xBA, 0x97, 0x43,
	0x00, 0x00, 0x40, 0xBA, 0x56, 0x3C, 0xEA, 0x9C, 0x38, 0x95, 0xD3, 0x34, 0xC5, 0xFB, 0x30,
	0x87, 0x16, 0x2D, 0xED, 0x24, 0x29, 0x0C, 0x28, 0x25, 0xFB, 0x20, 0x21, 0xD5, 0x10, 0x1D,
	0xB8, 0xF8, 0x18, 0xC2, 0xD9, 0x14, 0x15, 0xB5, 0x10, 0xD3, 0x8B, 0x0C, 0x21, 0x5F, 0x08,
	0x23, 0x30, 0x04, 0x00, 0x00, 0x00, 0xDD, 0xCF, 0xFB, 0xDF, 0xA0, 0xF7, 0x2D, 0x74, 0xF3,
	0xEB, 0x4A, 0xEF, 0x3E, 0x26, 0xEB, 0x48, 0x07, 0xE7, 0x2B, 0xEF, 0xE2, 0x05, 0xDF, 0xDE,
	0xF4, 0xD7, 0xDA, 0x13, 0xDB, 0xD6, 0x79, 0xE9, 0xD2, 0x3B, 0x04, 0xCF, 0x6B, 0x2C, 0xCB,
	0x16, 0x63, 0xC7, 0x46, 0xA9, 0xC3, 0x01, 0x00, 0xC0, 0x46, 0x68, 0xBC, 0x14, 0xE3, 0xB8,
	0x5F, 0x71, 0xB5, 0x1C, 0x14, 0xB2, 0x34, 0xCC, 0xAE, 0x8F, 0x9A, 0xAB, 0x0D, 0x80, 0xA8,
	0x87, 0x7D, 0xA5, 0xD1, 0x93, 0xA2, 0xB7, 0xC3, 0x9F, 0xFF, 0x0D, 0x9D, 0x66, 0x73, 0x9A,
	0xA4, 0xF4, 0x97, 0x68, 0x92, 0x95, 0x58, 0x4D, 0x93, 0x15, 0x26, 0x91, 0x35, 0x1D, 0x8F,
	0x47, 0x33, 0x8D, 0xD1, 0x68, 0x8B, 0x51, 0xBE, 0x89, 0x3D, 0x34, 0x88, 0xFF, 0xCA, 0x86,
	0xFB, 0x82, 0x85, 0x8B, 0x5C, 0x84, 0x00, 0x58, 0x83, 0xA1, 0x75, 0x82, 0xAC, 0xB5, 0x81,
	0x56, 0x18, 0x81, 0xCA, 0x9D, 0x80, 0x29, 0x46, 0x80, 0x8C, 0x11, 0x80, 0x00, 0x00, 0x80,
	0x8C, 0x11, 0x80, 0x29, 0x46, 0x80, 0xCA, 0x9D, 0x80, 0x56, 0x18, 0x81, 0xAC, 0xB5, 0x81,
	0xA1, 0x75, 0x82, 0x00, 0x58, 0x83, 0x8B, 0x5C, 0x84, 0xFB, 0x82, 0x85, 0xFF, 0xCA, 0x86,
	0x3D, 0x34, 0x88, 0x51, 0xBE, 0x89, 0xD1, 0x68, 0x8B, 0x47, 0x33, 0x8D, 0x35, 0x1D, 0x8F,
	0x15, 0x26, 0x91, 0x58, 0x4D, 0x93, 0x68, 0x92, 0x95, 0xA4, 0xF4, 0x97, 0x66, 0x73, 0x9A,
	0xFF, 0x0D, 0x9D, 0xB7, 0xC3, 0x9F, 0xD1, 0x93, 0xA2, 0x87, 0x7D, 0xA5, 0x0D, 0x80, 0xA8,
	0x8F, 0x9A, 0xAB, 0x34, 0xCC, 0xAE, 0x1C, 0x14, 0xB2, 0x5F, 0x71, 0xB5, 0x14, 0xE3, 0xB8,
	0x46, 0x68, 0xBC, 0x00, 0x00, 0xC0, 0x46, 0xA9, 0xC3, 0x16, 0x63, 0xC7, 0x6B, 0x2C, 0xCB,
	0x3B, 0x04, 0xCF, 0x79, 0xE9, 0xD2, 0x13, 0xDB, 0xD6, 0xF4, 0xD7, 0xDA, 0x05, 0xDF, 0xDE,
	0x2B, 0xEF, 0xE2, 0x48, 0x07, 0xE7, 0x3E, 0x26, 0xEB, 0xEB, 0x4A, 0xEF, 0x2D, 0x74, 0xF3,
	0xDF, 0xA0, 0xF7, 0xDD, 0xCF, 0xFB,
};

uint32_t azo_sin_1k_48khz32bit[48] = {
	0x00000000, 0x10B5150F, 0x2120FB83, 0x30FBC54D,
	0x3FFFFFFF, 0x4DEBE4FE, 0x5A827999, 0x658C9A2D,
	0x6ED9EBA1, 0x7641AF3C, 0x7BA3751D, 0x7EE7AA4B,
	0x7FFFFFFF, 0x7EE7AA4B, 0x7BA3751D, 0x7641AF3C,
	0x6ED9EBA1, 0x658C9A2D, 0x5A827999, 0x4DEBE4FE,
	0x40000000, 0x30FBC54D, 0x2120FB83, 0x10B5150F,
	0x00000000, 0xEF4AEAF1, 0xDEDF047D, 0xCF043AB3,
	0xC0000001, 0xB2141B02, 0xA57D8667, 0x9A7365D3,
	0x9126145F, 0x89BE50C4, 0x845C8AE3, 0x811855B5,
	0x80000000, 0x811855B5, 0x845C8AE3, 0x89BE50C4,
	0x9126145F, 0x9A7365D3, 0xA57D8667, 0xB2141B02,
	0xC0000000, 0xCF043AB3, 0xDEDF047D, 0xEF4AEAF1,
};

uint32_t azo_sin_1k_96khz32bit[96] = {
	0x00000000, 0x085F2136, 0x10B5150F, 0x18F8B83C,
	0x2120FB83, 0x2924EDAB, 0x30FBC54D, 0x389CEA71,
	0x3FFFFFFF, 0x471CECE6, 0x4DEBE4FE, 0x54657194,
	0x5A827999, 0x603C496C, 0x658C9A2D, 0x6A6D98A4,
	0x6ED9EBA1, 0x72CCB9DA, 0x7641AF3C, 0x793501A8,
	0x7BA3751D, 0x7D8A5F3F, 0x7EE7AA4B, 0x7FB9D758,
	0x7FFFFFFF, 0x7FB9D758, 0x7EE7AA4B, 0x7D8A5F3F,
	0x7BA3751D, 0x793501A8, 0x7641AF3C, 0x72CCB9DA,
	0x6ED9EBA1, 0x6A6D98A4, 0x658C9A2D, 0x603C496C,
	0x5A827999, 0x54657194, 0x4DEBE4FE, 0x471CECE6,
	0x40000000, 0x389CEA71, 0x30FBC54D, 0x2924EDAB,
	0x2120FB83, 0x18F8B83C, 0x10B5150F, 0x085F2136,
	0x00000000, 0xF7A0DECA, 0xEF4AEAF1, 0xE70747C4,
	0xDEDF047D, 0xD6DB1255, 0xCF043AB3, 0xC763158F,
	0xC0000001, 0xB8E3131A, 0xB2141B02, 0xAB9A8E6C,
	0xA57D8667, 0x9FC3B694, 0x9A7365D3, 0x9592675C,
	0x9126145F, 0x8D334626, 0x89BE50C4, 0x86CAFE58,
	0x845C8AE3, 0x8275A0C1, 0x811855B5, 0x804628A8,
	0x80000000, 0x804628A8, 0x811855B5, 0x8275A0C1,
	0x845C8AE3, 0x86CAFE58, 0x89BE50C4, 0x8D334626,
	0x9126145F, 0x9592675C, 0x9A7365D3, 0x9FC3B694,
	0xA57D8667, 0xAB9A8E6C, 0xB2141B02, 0xB8E3131A,
	0xC0000000, 0xC763158F, 0xCF043AB3, 0xD6DB1255,
	0xDEDF047D, 0xE70747C4, 0xEF4AEAF1, 0xF7A0DECA,
};

uint32_t azo_sin_1k_384khz32bit[384] = {
	0x00000000, 0x02182427, 0x0430238F, 0x0647D97C,
	0x085F2136, 0x0A75D60E, 0x0C8BD35E, 0x0EA0F48C,
	0x10B5150F, 0x12C8106E, 0x14D9C245, 0x16EA0646,
	0x18F8B83C, 0x1B05B40E, 0x1D10D5C1, 0x1F19F97B,
	0x2120FB83, 0x2325B847, 0x25280C5D, 0x2727D485,
	0x2924EDAB, 0x2B1F34EB, 0x2D168791, 0x2F0AC320,
	0x30FBC54D, 0x32E96C09, 0x34D3957D, 0x36BA2013,
	0x389CEA71, 0x3A7BD381, 0x3C56BA70, 0x3E2D7EB0,
	0x3FFFFFFF, 0x41CE1E64, 0x4397BA32, 0x455CB40C,
	0x471CECE6, 0x48D84609, 0x4A8EA111, 0x4C3FDFF3,
	0x4DEBE4FE, 0x4F9292DB, 0x5133CC94, 0x52CF758E,
	0x54657194, 0x55F5A4D2, 0x577FF3DA, 0x590443A6,
	0x5A827999, 0x5BFA7B81, 0x5D6C2F99, 0x5ED77C89,
	0x603C496C, 0x619A7DCD, 0x62F201AC, 0x6442BD7D,
	0x658C9A2D, 0x66CF811F, 0x680B5C33, 0x694015C2,
	0x6A6D98A4, 0x6B93D02E, 0x6CB2A836, 0x6DCA0D14,
	0x6ED9EBA1, 0x6FE2313B, 0x70E2CBC6, 0x71DBA9AA,
	0x72CCB9DA, 0x73B5EBD0, 0x74972F91, 0x757075AC,
	0x7641AF3C, 0x770ACDEC, 0x77CBC3F1, 0x78848413,
	0x793501A8, 0x79DD3098, 0x7A7D055B, 0x7B1474FD,
	0x7BA3751D, 0x7C29FBEE, 0x7CA80038, 0x7D1D7957,
	0x7D8A5F3F, 0x7DEEAA79, 0x7E4A5426, 0x7E9D55FC,
	0x7EE7AA4B, 0x7F294BFC, 0x7F62368F, 0x7F92661D,
	0x7FB9D758, 0x7FD8878D, 0x7FEE74A2, 0x7FFB9D15,
	0x7FFFFFFF, 0x7FFB9D15, 0x7FEE74A2, 0x7FD8878D,
	0x7FB9D758, 0x7F92661D, 0x7F62368F, 0x7F294BFC,
	0x7EE7AA4B, 0x7E9D55FC, 0x7E4A5426, 0x7DEEAA79,
	0x7D8A5F3F, 0x7D1D7957, 0x7CA80038, 0x7C29FBEE,
	0x7BA3751D, 0x7B1474FD, 0x7A7D055B, 0x79DD3098,
	0x793501A8, 0x78848413, 0x77CBC3F1, 0x770ACDEC,
	0x7641AF3C, 0x757075AC, 0x74972F91, 0x73B5EBD0,
	0x72CCB9DA, 0x71DBA9AA, 0x70E2CBC6, 0x6FE2313B,
	0x6ED9EBA1, 0x6DCA0D14, 0x6CB2A836, 0x6B93D02E,
	0x6A6D98A4, 0x694015C2, 0x680B5C33, 0x66CF811F,
	0x658C9A2D, 0x6442BD7D, 0x62F201AC, 0x619A7DCD,
	0x603C496C, 0x5ED77C89, 0x5D6C2F99, 0x5BFA7B81,
	0x5A827999, 0x590443A6, 0x577FF3DA, 0x55F5A4D2,
	0x54657194, 0x52CF758E, 0x5133CC94, 0x4F9292DB,
	0x4DEBE4FE, 0x4C3FDFF3, 0x4A8EA111, 0x48D84609,
	0x471CECE6, 0x455CB40C, 0x4397BA32, 0x41CE1E64,
	0x40000000, 0x3E2D7EB0, 0x3C56BA70, 0x3A7BD381,
	0x389CEA71, 0x36BA2013, 0x34D3957D, 0x32E96C09,
	0x30FBC54D, 0x2F0AC320, 0x2D168791, 0x2B1F34EB,
	0x2924EDAB, 0x2727D485, 0x25280C5D, 0x2325B847,
	0x2120FB83, 0x1F19F97B, 0x1D10D5C1, 0x1B05B40E,
	0x18F8B83C, 0x16EA0646, 0x14D9C245, 0x12C8106E,
	0x10B5150F, 0x0EA0F48C, 0x0C8BD35E, 0x0A75D60E,
	0x085F2136, 0x0647D97C, 0x0430238F, 0x02182427,
	0x00000000, 0xFDE7DBD9, 0xFBCFDC71, 0xF9B82684,
	0xF7A0DECA, 0xF58A29F2, 0xF3742CA2, 0xF15F0B74,
	0xEF4AEAF1, 0xED37EF92, 0xEB263DBB, 0xE915F9BA,
	0xE70747C4, 0xE4FA4BF2, 0xE2EF2A3F, 0xE0E60685,
	0xDEDF047D, 0xDCDA47B9, 0xDAD7F3A3, 0xD8D82B7B,
	0xD6DB1255, 0xD4E0CB15, 0xD2E9786F, 0xD0F53CE0,
	0xCF043AB3, 0xCD1693F7, 0xCB2C6A83, 0xC945DFED,
	0xC763158F, 0xC5842C7F, 0xC3A94590, 0xC1D28150,
	0xC0000001, 0xBE31E19C, 0xBC6845CE, 0xBAA34BF4,
	0xB8E3131A, 0xB727B9F7, 0xB5715EEF, 0xB3C0200D,
	0xB2141B02, 0xB06D6D25, 0xAECC336C, 0xAD308A72,
	0xAB9A8E6C, 0xAA0A5B2E, 0xA8800C26, 0xA6FBBC5A,
	0xA57D8667, 0xA405847F, 0xA293D067, 0xA1288377,
	0x9FC3B694, 0x9E658233, 0x9D0DFE54, 0x9BBD4283,
	0x9A7365D3, 0x99307EE1, 0x97F4A3CD, 0x96BFEA3E,
	0x9592675C, 0x946C2FD2, 0x934D57CA, 0x9235F2EC,
	0x9126145F, 0x901DCEC5, 0x8F1D343A, 0x8E245656,
	0x8D334626, 0x8C4A1430, 0x8B68D06F, 0x8A8F8A54,
	0x89BE50C4, 0x88F53214, 0x88343C0F, 0x877B7BED,
	0x86CAFE58, 0x8622CF68, 0x8582FAA5, 0x84EB8B03,
	0x845C8AE3, 0x83D60412, 0x8357FFC8, 0x82E286A9,
	0x8275A0C1, 0x82115587, 0x81B5ABDA, 0x8162AA04,
	0x811855B5, 0x80D6B404, 0x809DC971, 0x806D99E3,
	0x804628A8, 0x80277873, 0x80118B5E, 0x800462EB,
	0x80000000, 0x800462EB, 0x80118B5E, 0x80277873,
	0x804628A8, 0x806D99E3, 0x809DC971, 0x80D6B404,
	0x811855B5, 0x8162AA04, 0x81B5ABDA, 0x82115587,
	0x8275A0C1, 0x82E286A9, 0x8357FFC8, 0x83D60412,
	0x845C8AE3, 0x84EB8B03, 0x8582FAA5, 0x8622CF68,
	0x86CAFE58, 0x877B7BED, 0x88343C0F, 0x88F53214,
	0x89BE50C4, 0x8A8F8A54, 0x8B68D06F, 0x8C4A1430,
	0x8D334626, 0x8E245656, 0x8F1D343A, 0x901DCEC5,
	0x9126145F, 0x9235F2EC, 0x934D57CA, 0x946C2FD2,
	0x9592675C, 0x96BFEA3E, 0x97F4A3CD, 0x99307EE1,
	0x9A7365D3, 0x9BBD4283, 0x9D0DFE54, 0x9E658233,
	0x9FC3B694, 0xA1288377, 0xA293D067, 0xA405847F,
	0xA57D8667, 0xA6FBBC5A, 0xA8800C26, 0xAA0A5B2E,
	0xAB9A8E6C, 0xAD308A72, 0xAECC336C, 0xB06D6D25,
	0xB2141B02, 0xB3C0200D, 0xB5715EEF, 0xB727B9F7,
	0xB8E3131A, 0xBAA34BF4, 0xBC6845CE, 0xBE31E19C,
	0xC0000000, 0xC1D28150, 0xC3A94590, 0xC5842C7F,
	0xC763158F, 0xC945DFED, 0xCB2C6A83, 0xCD1693F7,
	0xCF043AB3, 0xD0F53CE0, 0xD2E9786F, 0xD4E0CB15,
	0xD6DB1255, 0xD8D82B7B, 0xDAD7F3A3, 0xDCDA47B9,
	0xDEDF047D, 0xE0E60685, 0xE2EF2A3F, 0xE4FA4BF2,
	0xE70747C4, 0xE915F9BA, 0xEB263DBB, 0xED37EF92,
	0xEF4AEAF1, 0xF15F0B74, 0xF3742CA2, 0xF58A29F2,
	0xF7A0DECA, 0xF9B82684, 0xFBCFDC71, 0xFDE7DBD9,
};

uint32_t azo_sin_1k_768khz32bit[768] = {
	0x00000000, 0x010C145F, 0x02182427, 0x03242ABE, 
	0x0430238F, 0x053C0A00, 0x0647D97C, 0x07538D6A, 
	0x085F2136, 0x096A9049, 0x0A75D60E, 0x0B80EDF1, 
	0x0C8BD35E, 0x0D9681C2, 0x0EA0F48C, 0x0FAB272B, 
	0x10B5150F, 0x11BEB9AA, 0x12C8106E, 0x13D114D0, 
	0x14D9C245, 0x15E21444, 0x16EA0646, 0x17F193C4, 
	0x18F8B83C, 0x19FF6F2A, 0x1B05B40E, 0x1C0B826A, 
	0x1D10D5C1, 0x1E15A999, 0x1F19F97B, 0x201DC0EF, 
	0x2120FB83, 0x2223A4C5, 0x2325B847, 0x2427319D, 
	0x25280C5D, 0x26284421, 0x2727D485, 0x2826B928, 
	0x2924EDAB, 0x2A226DB4, 0x2B1F34EB, 0x2C1B3EFA, 
	0x2D168791, 0x2E110A61, 0x2F0AC320, 0x3003AD85, 
	0x30FBC54D, 0x31F30638, 0x32E96C09, 0x33DEF287, 
	0x34D3957D, 0x35C750BB, 0x36BA2013, 0x37ABFF5C, 
	0x389CEA71, 0x398CDD32, 0x3A7BD381, 0x3B69C947, 
	0x3C56BA70, 0x3D42A2EC, 0x3E2D7EB0, 0x3F1749B7, 
	0x3FFFFFFF, 0x40E79D8C, 0x41CE1E64, 0x42B37E95, 
	0x4397BA32, 0x447ACD50, 0x455CB40C, 0x463D6A86, 
	0x471CECE6, 0x47FB3757, 0x48D84609, 0x49B41533, 
	0x4A8EA111, 0x4B67E5E4, 0x4C3FDFF3, 0x4D168B8B, 
	0x4DEBE4FE, 0x4EBFE8A4, 0x4F9292DB, 0x5063E008, 
	0x5133CC94, 0x520254EE, 0x52CF758E, 0x539B2AEF, 
	0x54657194, 0x552E4605, 0x55F5A4D2, 0x56BB8A8F, 
	0x577FF3DA, 0x5842DD54, 0x590443A6, 0x59C42381, 
	0x5A827999, 0x5B3F42AE, 0x5BFA7B81, 0x5CB420DF, 
	0x5D6C2F99, 0x5E22A487, 0x5ED77C89, 0x5F8AB486, 
	0x603C496C, 0x60EC382F, 0x619A7DCD, 0x62471748, 
	0x62F201AC, 0x639B3A0A, 0x6442BD7D, 0x64E88926, 
	0x658C9A2D, 0x662EEDC3, 0x66CF811F, 0x676E5182, 
	0x680B5C33, 0x68A69E81, 0x694015C2, 0x69D7BF56, 
	0x6A6D98A4, 0x6B019F19, 0x6B93D02E, 0x6C242960, 
	0x6CB2A836, 0x6D3F4A40, 0x6DCA0D14, 0x6E52EE52, 
	0x6ED9EBA1, 0x6F5F02B1, 0x6FE2313B, 0x706374FF, 
	0x70E2CBC6, 0x71603361, 0x71DBA9AA, 0x72552C84, 
	0x72CCB9DA, 0x73424FA0, 0x73B5EBD0, 0x74278C72, 
	0x74972F91, 0x7504D345, 0x757075AC, 0x75DA14EE, 
	0x7641AF3C, 0x76A742D0, 0x770ACDEC, 0x776C4EDB, 
	0x77CBC3F1, 0x78292B8D, 0x78848413, 0x78DDCBF4, 
	0x793501A8, 0x798A23B1, 0x79DD3098, 0x7A2E26F1, 
	0x7A7D055B, 0x7AC9CA79, 0x7B1474FD, 0x7B5D039D, 
	0x7BA3751D, 0x7BE7C846, 0x7C29FBEE, 0x7C6A0EF1, 
	0x7CA80038, 0x7CE3CEB1, 0x7D1D7957, 0x7D54FF2D, 
	0x7D8A5F3F, 0x7DBD98A4, 0x7DEEAA79, 0x7E1D93E9, 
	0x7E4A5426, 0x7E74EA6A, 0x7E9D55FC, 0x7EC39629, 
	0x7EE7AA4B, 0x7F0991C3, 0x7F294BFC, 0x7F46D86B, 
	0x7F62368F, 0x7F7B65EF, 0x7F92661D, 0x7FA736B4, 
	0x7FB9D758, 0x7FCA47B9, 0x7FD8878D, 0x7FE49697, 
	0x7FEE74A2, 0x7FF62182, 0x7FFB9D15, 0x7FFEE744, 
	0x7FFFFFFF, 0x7FFEE744, 0x7FFB9D15, 0x7FF62182, 
	0x7FEE74A2, 0x7FE49697, 0x7FD8878D, 0x7FCA47B9, 
	0x7FB9D758, 0x7FA736B4, 0x7F92661D, 0x7F7B65EF, 
	0x7F62368F, 0x7F46D86B, 0x7F294BFC, 0x7F0991C3, 
	0x7EE7AA4B, 0x7EC39629, 0x7E9D55FC, 0x7E74EA6A, 
	0x7E4A5426, 0x7E1D93E9, 0x7DEEAA79, 0x7DBD98A4, 
	0x7D8A5F3F, 0x7D54FF2D, 0x7D1D7957, 0x7CE3CEB1, 
	0x7CA80038, 0x7C6A0EF1, 0x7C29FBEE, 0x7BE7C846, 
	0x7BA3751D, 0x7B5D039D, 0x7B1474FD, 0x7AC9CA79, 
	0x7A7D055B, 0x7A2E26F1, 0x79DD3098, 0x798A23B1, 
	0x793501A8, 0x78DDCBF4, 0x78848413, 0x78292B8D, 
	0x77CBC3F1, 0x776C4EDB, 0x770ACDEC, 0x76A742D0, 
	0x7641AF3C, 0x75DA14EE, 0x757075AC, 0x7504D345, 
	0x74972F91, 0x74278C72, 0x73B5EBD0, 0x73424FA0, 
	0x72CCB9DA, 0x72552C84, 0x71DBA9AA, 0x71603361, 
	0x70E2CBC6, 0x706374FF, 0x6FE2313B, 0x6F5F02B1, 
	0x6ED9EBA1, 0x6E52EE52, 0x6DCA0D14, 0x6D3F4A40, 
	0x6CB2A836, 0x6C242960, 0x6B93D02E, 0x6B019F19, 
	0x6A6D98A4, 0x69D7BF56, 0x694015C2, 0x68A69E81, 
	0x680B5C33, 0x676E5182, 0x66CF811F, 0x662EEDC3, 
	0x658C9A2D, 0x64E88926, 0x6442BD7D, 0x639B3A0A, 
	0x62F201AC, 0x62471748, 0x619A7DCD, 0x60EC382F, 
	0x603C496C, 0x5F8AB486, 0x5ED77C89, 0x5E22A487, 
	0x5D6C2F99, 0x5CB420DF, 0x5BFA7B81, 0x5B3F42AE, 
	0x5A827999, 0x59C42381, 0x590443A6, 0x5842DD54, 
	0x577FF3DA, 0x56BB8A8F, 0x55F5A4D2, 0x552E4605, 
	0x54657194, 0x539B2AEF, 0x52CF758E, 0x520254EE, 
	0x5133CC94, 0x5063E008, 0x4F9292DB, 0x4EBFE8A4, 
	0x4DEBE4FE, 0x4D168B8B, 0x4C3FDFF3, 0x4B67E5E4, 
	0x4A8EA111, 0x49B41533, 0x48D84609, 0x47FB3757, 
	0x471CECE6, 0x463D6A86, 0x455CB40C, 0x447ACD50, 
	0x4397BA32, 0x42B37E95, 0x41CE1E64, 0x40E79D8C, 
	0x40000000, 0x3F1749B7, 0x3E2D7EB0, 0x3D42A2EC, 
	0x3C56BA70, 0x3B69C947, 0x3A7BD381, 0x398CDD32, 
	0x389CEA71, 0x37ABFF5C, 0x36BA2013, 0x35C750BB, 
	0x34D3957D, 0x33DEF287, 0x32E96C09, 0x31F30638, 
	0x30FBC54D, 0x3003AD85, 0x2F0AC320, 0x2E110A61, 
	0x2D168791, 0x2C1B3EFA, 0x2B1F34EB, 0x2A226DB4, 
	0x2924EDAB, 0x2826B928, 0x2727D485, 0x26284421, 
	0x25280C5D, 0x2427319D, 0x2325B847, 0x2223A4C5, 
	0x2120FB83, 0x201DC0EF, 0x1F19F97B, 0x1E15A999, 
	0x1D10D5C1, 0x1C0B826A, 0x1B05B40E, 0x19FF6F2A, 
	0x18F8B83C, 0x17F193C4, 0x16EA0646, 0x15E21444, 
	0x14D9C245, 0x13D114D0, 0x12C8106E, 0x11BEB9AA, 
	0x10B5150F, 0x0FAB272B, 0x0EA0F48C, 0x0D9681C2, 
	0x0C8BD35E, 0x0B80EDF1, 0x0A75D60E, 0x096A9049, 
	0x085F2136, 0x07538D6A, 0x0647D97C, 0x053C0A00, 
	0x0430238F, 0x03242ABE, 0x02182427, 0x010C145F, 
	0x00000000, 0xFEF3EBA1, 0xFDE7DBD9, 0xFCDBD542, 
	0xFBCFDC71, 0xFAC3F600, 0xF9B82684, 0xF8AC7296, 
	0xF7A0DECA, 0xF6956FB7, 0xF58A29F2, 0xF47F120F, 
	0xF3742CA2, 0xF2697E3E, 0xF15F0B74, 0xF054D8D5, 
	0xEF4AEAF1, 0xEE414656, 0xED37EF92, 0xEC2EEB30, 
	0xEB263DBB, 0xEA1DEBBC, 0xE915F9BA, 0xE80E6C3C, 
	0xE70747C4, 0xE60090D6, 0xE4FA4BF2, 0xE3F47D96, 
	0xE2EF2A3F, 0xE1EA5667, 0xE0E60685, 0xDFE23F11, 
	0xDEDF047D, 0xDDDC5B3B, 0xDCDA47B9, 0xDBD8CE63, 
	0xDAD7F3A3, 0xD9D7BBDF, 0xD8D82B7B, 0xD7D946D8, 
	0xD6DB1255, 0xD5DD924C, 0xD4E0CB15, 0xD3E4C106, 
	0xD2E9786F, 0xD1EEF59F, 0xD0F53CE0, 0xCFFC527B, 
	0xCF043AB3, 0xCE0CF9C8, 0xCD1693F7, 0xCC210D79, 
	0xCB2C6A83, 0xCA38AF45, 0xC945DFED, 0xC85400A4, 
	0xC763158F, 0xC67322CE, 0xC5842C7F, 0xC49636B9, 
	0xC3A94590, 0xC2BD5D14, 0xC1D28150, 0xC0E8B649, 
	0xC0000001, 0xBF186274, 0xBE31E19C, 0xBD4C816B, 
	0xBC6845CE, 0xBB8532B0, 0xBAA34BF4, 0xB9C2957A, 
	0xB8E3131A, 0xB804C8A9, 0xB727B9F7, 0xB64BEACD, 
	0xB5715EEF, 0xB4981A1C, 0xB3C0200D, 0xB2E97475, 
	0xB2141B02, 0xB140175C, 0xB06D6D25, 0xAF9C1FF8, 
	0xAECC336C, 0xADFDAB12, 0xAD308A72, 0xAC64D511, 
	0xAB9A8E6C, 0xAAD1B9FB, 0xAA0A5B2E, 0xA9447571, 
	0xA8800C26, 0xA7BD22AC, 0xA6FBBC5A, 0xA63BDC7F, 
	0xA57D8667, 0xA4C0BD52, 0xA405847F, 0xA34BDF21, 
	0xA293D067, 0xA1DD5B79, 0xA1288377, 0xA0754B7A, 
	0x9FC3B694, 0x9F13C7D1, 0x9E658233, 0x9DB8E8B8, 
	0x9D0DFE54, 0x9C64C5F6, 0x9BBD4283, 0x9B1776DA, 
	0x9A7365D3, 0x99D1123D, 0x99307EE1, 0x9891AE7E, 
	0x97F4A3CD, 0x9759617F, 0x96BFEA3E, 0x962840AA, 
	0x9592675C, 0x94FE60E7, 0x946C2FD2, 0x93DBD6A0, 
	0x934D57CA, 0x92C0B5C0, 0x9235F2EC, 0x91AD11AE, 
	0x9126145F, 0x90A0FD4F, 0x901DCEC5, 0x8F9C8B01, 
	0x8F1D343A, 0x8E9FCC9F, 0x8E245656, 0x8DAAD37C, 
	0x8D334626, 0x8CBDB060, 0x8C4A1430, 0x8BD8738E, 
	0x8B68D06F, 0x8AFB2CBB, 0x8A8F8A54, 0x8A25EB12, 
	0x89BE50C4, 0x8958BD30, 0x88F53214, 0x8893B125, 
	0x88343C0F, 0x87D6D473, 0x877B7BED, 0x8722340C, 
	0x86CAFE58, 0x8675DC4F, 0x8622CF68, 0x85D1D90F, 
	0x8582FAA5, 0x85363587, 0x84EB8B03, 0x84A2FC63, 
	0x845C8AE3, 0x841837BA, 0x83D60412, 0x8395F10F, 
	0x8357FFC8, 0x831C314F, 0x82E286A9, 0x82AB00D3, 
	0x8275A0C1, 0x8242675C, 0x82115587, 0x81E26C17, 
	0x81B5ABDA, 0x818B1596, 0x8162AA04, 0x813C69D7, 
	0x811855B5, 0x80F66E3D, 0x80D6B404, 0x80B92795, 
	0x809DC971, 0x80849A11, 0x806D99E3, 0x8058C94C, 
	0x804628A8, 0x8035B847, 0x80277873, 0x801B6969, 
	0x80118B5E, 0x8009DE7E, 0x800462EB, 0x800118BC, 
	0x80000000, 0x800118BC, 0x800462EB, 0x8009DE7E, 
	0x80118B5E, 0x801B6969, 0x80277873, 0x8035B847, 
	0x804628A8, 0x8058C94C, 0x806D99E3, 0x80849A11, 
	0x809DC971, 0x80B92795, 0x80D6B404, 0x80F66E3D, 
	0x811855B5, 0x813C69D7, 0x8162AA04, 0x818B1596, 
	0x81B5ABDA, 0x81E26C17, 0x82115587, 0x8242675C, 
	0x8275A0C1, 0x82AB00D3, 0x82E286A9, 0x831C314F, 
	0x8357FFC8, 0x8395F10F, 0x83D60412, 0x841837BA, 
	0x845C8AE3, 0x84A2FC63, 0x84EB8B03, 0x85363587, 
	0x8582FAA5, 0x85D1D90F, 0x8622CF68, 0x8675DC4F, 
	0x86CAFE58, 0x8722340C, 0x877B7BED, 0x87D6D473, 
	0x88343C0F, 0x8893B125, 0x88F53214, 0x8958BD30, 
	0x89BE50C4, 0x8A25EB12, 0x8A8F8A54, 0x8AFB2CBB, 
	0x8B68D06F, 0x8BD8738E, 0x8C4A1430, 0x8CBDB060, 
	0x8D334626, 0x8DAAD37C, 0x8E245656, 0x8E9FCC9F, 
	0x8F1D343A, 0x8F9C8B01, 0x901DCEC5, 0x90A0FD4F, 
	0x9126145F, 0x91AD11AE, 0x9235F2EC, 0x92C0B5C0, 
	0x934D57CA, 0x93DBD6A0, 0x946C2FD2, 0x94FE60E7, 
	0x9592675C, 0x962840AA, 0x96BFEA3E, 0x9759617F, 
	0x97F4A3CD, 0x9891AE7E, 0x99307EE1, 0x99D1123D, 
	0x9A7365D3, 0x9B1776DA, 0x9BBD4283, 0x9C64C5F6, 
	0x9D0DFE54, 0x9DB8E8B8, 0x9E658233, 0x9F13C7D1, 
	0x9FC3B694, 0xA0754B7A, 0xA1288377, 0xA1DD5B79, 
	0xA293D067, 0xA34BDF21, 0xA405847F, 0xA4C0BD52, 
	0xA57D8667, 0xA63BDC7F, 0xA6FBBC5A, 0xA7BD22AC, 
	0xA8800C26, 0xA9447571, 0xAA0A5B2E, 0xAAD1B9FB, 
	0xAB9A8E6C, 0xAC64D511, 0xAD308A72, 0xADFDAB12, 
	0xAECC336C, 0xAF9C1FF8, 0xB06D6D25, 0xB140175C, 
	0xB2141B02, 0xB2E97475, 0xB3C0200D, 0xB4981A1C, 
	0xB5715EEF, 0xB64BEACD, 0xB727B9F7, 0xB804C8A9, 
	0xB8E3131A, 0xB9C2957A, 0xBAA34BF4, 0xBB8532B0, 
	0xBC6845CE, 0xBD4C816B, 0xBE31E19C, 0xBF186274, 
	0xC0000000, 0xC0E8B649, 0xC1D28150, 0xC2BD5D14, 
	0xC3A94590, 0xC49636B9, 0xC5842C7F, 0xC67322CE, 
	0xC763158F, 0xC85400A4, 0xC945DFED, 0xCA38AF45, 
	0xCB2C6A83, 0xCC210D79, 0xCD1693F7, 0xCE0CF9C8, 
	0xCF043AB3, 0xCFFC527B, 0xD0F53CE0, 0xD1EEF59F, 
	0xD2E9786F, 0xD3E4C106, 0xD4E0CB15, 0xD5DD924C, 
	0xD6DB1255, 0xD7D946D8, 0xD8D82B7B, 0xD9D7BBDF, 
	0xDAD7F3A3, 0xDBD8CE63, 0xDCDA47B9, 0xDDDC5B3B, 
	0xDEDF047D, 0xDFE23F11, 0xE0E60685, 0xE1EA5667, 
	0xE2EF2A3F, 0xE3F47D96, 0xE4FA4BF2, 0xE60090D6, 
	0xE70747C4, 0xE80E6C3C, 0xE915F9BA, 0xEA1DEBBC, 
	0xEB263DBB, 0xEC2EEB30, 0xED37EF92, 0xEE414656, 
	0xEF4AEAF1, 0xF054D8D5, 0xF15F0B74, 0xF2697E3E, 
	0xF3742CA2, 0xF47F120F, 0xF58A29F2, 0xF6956FB7, 
	0xF7A0DECA, 0xF8AC7296, 0xF9B82684, 0xFAC3F600, 
	0xFBCFDC71, 0xFCDBD542, 0xFDE7DBD9, 0xFEF3EBA1,
};

uint32_t azo_square_1k_384khz32bit[768] = {
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 0x7FFFFFFF, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
	0x80000000, 0x80000000, 0x80000000, 0x80000000, 
};

uint32_t azo_triangle_1k_384khz32bit[768] = {
	0x00000000, 0x01555555, 0x02AAAAAA, 0x03FFFFFF, 
	0x05555554, 0x06AAAAA9, 0x07FFFFFE, 0x09555553, 
	0x0AAAAAA8, 0x0BFFFFFD, 0x0D555552, 0x0EAAAAA7, 
	0x0FFFFFFC, 0x11555551, 0x12AAAAA6, 0x13FFFFFB, 
	0x15555550, 0x16AAAAA5, 0x17FFFFFA, 0x1955554F, 
	0x1AAAAAA4, 0x1BFFFFF9, 0x1D55554E, 0x1EAAAAA3, 
	0x1FFFFFF8, 0x2155554D, 0x22AAAAA2, 0x23FFFFF7, 
	0x2555554C, 0x26AAAAA1, 0x27FFFFF6, 0x2955554B, 
	0x2AAAAAA0, 0x2BFFFFF5, 0x2D55554A, 0x2EAAAA9F, 
	0x2FFFFFF4, 0x31555549, 0x32AAAA9E, 0x33FFFFF3, 
	0x35555548, 0x36AAAA9D, 0x37FFFFF2, 0x39555547, 
	0x3AAAAA9C, 0x3BFFFFF1, 0x3D555546, 0x3EAAAA9B, 
	0x3FFFFFF0, 0x41555545, 0x42AAAA9A, 0x43FFFFEF, 
	0x45555544, 0x46AAAA99, 0x47FFFFEE, 0x49555543, 
	0x4AAAAA98, 0x4BFFFFED, 0x4D555542, 0x4EAAAA97, 
	0x4FFFFFEC, 0x51555541, 0x52AAAA96, 0x53FFFFEB, 
	0x55555540, 0x56AAAA95, 0x57FFFFEA, 0x5955553F, 
	0x5AAAAA94, 0x5BFFFFE9, 0x5D55553E, 0x5EAAAA93, 
	0x5FFFFFE8, 0x6155553D, 0x62AAAA92, 0x63FFFFE7, 
	0x6555553C, 0x66AAAA91, 0x67FFFFE6, 0x6955553B, 
	0x6AAAAA90, 0x6BFFFFE5, 0x6D55553A, 0x6EAAAA8F, 
	0x6FFFFFE4, 0x71555539, 0x72AAAA8E, 0x73FFFFE3, 
	0x75555538, 0x76AAAA8D, 0x77FFFFE2, 0x79555537, 
	0x7AAAAA8C, 0x7BFFFFE1, 0x7D555536, 0x7EAAAA8B, 
	0x7FFFFFFF, 0x7EAAAAAA, 0x7D555555, 0x7C000000, 
	0x7AAAAAAB, 0x79555556, 0x78000001, 0x76AAAAAC, 
	0x75555557, 0x74000002, 0x72AAAAAD, 0x71555558, 
	0x70000003, 0x6EAAAAAE, 0x6D555559, 0x6C000004, 
	0x6AAAAAAF, 0x6955555A, 0x68000005, 0x66AAAAB0, 
	0x6555555B, 0x64000006, 0x62AAAAB1, 0x6155555C, 
	0x60000007, 0x5EAAAAB2, 0x5D55555D, 0x5C000008, 
	0x5AAAAAB3, 0x5955555E, 0x58000009, 0x56AAAAB4, 
	0x5555555F, 0x5400000A, 0x52AAAAB5, 0x51555560, 
	0x5000000B, 0x4EAAAAB6, 0x4D555561, 0x4C00000C, 
	0x4AAAAAB7, 0x49555562, 0x4800000D, 0x46AAAAB8, 
	0x45555563, 0x4400000E, 0x42AAAAB9, 0x41555564, 
	0x4000000F, 0x3EAAAABA, 0x3D555565, 0x3C000010, 
	0x3AAAAABB, 0x39555566, 0x38000011, 0x36AAAABC, 
	0x35555567, 0x34000012, 0x32AAAABD, 0x31555568, 
	0x30000013, 0x2EAAAABE, 0x2D555569, 0x2C000014, 
	0x2AAAAABF, 0x2955556A, 0x28000015, 0x26AAAAC0, 
	0x2555556B, 0x24000016, 0x22AAAAC1, 0x2155556C, 
	0x20000017, 0x1EAAAAC2, 0x1D55556D, 0x1C000018, 
	0x1AAAAAC3, 0x1955556E, 0x18000019, 0x16AAAAC4, 
	0x1555556F, 0x1400001A, 0x12AAAAC5, 0x11555570, 
	0x1000001B, 0x0EAAAAC6, 0x0D555571, 0x0C00001C, 
	0x0AAAAAC7, 0x09555572, 0x0800001D, 0x06AAAAC8, 
	0x05555573, 0x0400001E, 0x02AAAAC9, 0x01555574, 
	0x0000001F, 0xFEAAAACA, 0xFD555575, 0xFC000020, 
	0xFAAAAACB, 0xF9555576, 0xF8000021, 0xF6AAAACC, 
	0xF5555577, 0xF4000022, 0xF2AAAACD, 0xF1555578, 
	0xF0000023, 0xEEAAAACE, 0xED555579, 0xEC000024, 
	0xEAAAAACF, 0xE955557A, 0xE8000025, 0xE6AAAAD0, 
	0xE555557B, 0xE4000026, 0xE2AAAAD1, 0xE155557C, 
	0xE0000027, 0xDEAAAAD2, 0xDD55557D, 0xDC000028, 
	0xDAAAAAD3, 0xD955557E, 0xD8000029, 0xD6AAAAD4, 
	0xD555557F, 0xD400002A, 0xD2AAAAD5, 0xD1555580, 
	0xD000002B, 0xCEAAAAD6, 0xCD555581, 0xCC00002C, 
	0xCAAAAAD7, 0xC9555582, 0xC800002D, 0xC6AAAAD8, 
	0xC5555583, 0xC400002E, 0xC2AAAAD9, 0xC1555584, 
	0xC000002F, 0xBEAAAADA, 0xBD555585, 0xBC000030, 
	0xBAAAAADB, 0xB9555586, 0xB8000031, 0xB6AAAADC, 
	0xB5555587, 0xB4000032, 0xB2AAAADD, 0xB1555588, 
	0xB0000033, 0xAEAAAADE, 0xAD555589, 0xAC000034, 
	0xAAAAAADF, 0xA955558A, 0xA8000035, 0xA6AAAAE0, 
	0xA555558B, 0xA4000036, 0xA2AAAAE1, 0xA155558C, 
	0xA0000037, 0x9EAAAAE2, 0x9D55558D, 0x9C000038, 
	0x9AAAAAE3, 0x9955558E, 0x98000039, 0x96AAAAE4, 
	0x9555558F, 0x9400003A, 0x92AAAAE5, 0x91555590, 
	0x9000003B, 0x8EAAAAE6, 0x8D555591, 0x8C00003C, 
	0x8AAAAAE7, 0x89555592, 0x8800003D, 0x86AAAAE8, 
	0x85555593, 0x8400003E, 0x82AAAAE9, 0x81555594, 
	0x80000000, 0x81555555, 0x82AAAAAA, 0x83FFFFFF, 
	0x85555554, 0x86AAAAA9, 0x87FFFFFE, 0x89555553, 
	0x8AAAAAA8, 0x8BFFFFFD, 0x8D555552, 0x8EAAAAA7, 
	0x8FFFFFFC, 0x91555551, 0x92AAAAA6, 0x93FFFFFB, 
	0x95555550, 0x96AAAAA5, 0x97FFFFFA, 0x9955554F, 
	0x9AAAAAA4, 0x9BFFFFF9, 0x9D55554E, 0x9EAAAAA3, 
	0x9FFFFFF8, 0xA155554D, 0xA2AAAAA2, 0xA3FFFFF7, 
	0xA555554C, 0xA6AAAAA1, 0xA7FFFFF6, 0xA955554B, 
	0xAAAAAAA0, 0xABFFFFF5, 0xAD55554A, 0xAEAAAA9F, 
	0xAFFFFFF4, 0xB1555549, 0xB2AAAA9E, 0xB3FFFFF3, 
	0xB5555548, 0xB6AAAA9D, 0xB7FFFFF2, 0xB9555547, 
	0xBAAAAA9C, 0xBBFFFFF1, 0xBD555546, 0xBEAAAA9B, 
	0xBFFFFFF0, 0xC1555545, 0xC2AAAA9A, 0xC3FFFFEF, 
	0xC5555544, 0xC6AAAA99, 0xC7FFFFEE, 0xC9555543, 
	0xCAAAAA98, 0xCBFFFFED, 0xCD555542, 0xCEAAAA97, 
	0xCFFFFFEC, 0xD1555541, 0xD2AAAA96, 0xD3FFFFEB, 
	0xD5555540, 0xD6AAAA95, 0xD7FFFFEA, 0xD955553F, 
	0xDAAAAA94, 0xDBFFFFE9, 0xDD55553E, 0xDEAAAA93, 
	0xDFFFFFE8, 0xE155553D, 0xE2AAAA92, 0xE3FFFFE7, 
	0xE555553C, 0xE6AAAA91, 0xE7FFFFE6, 0xE955553B, 
	0xEAAAAA90, 0xEBFFFFE5, 0xED55553A, 0xEEAAAA8F, 
	0xEFFFFFE4, 0xF1555539, 0xF2AAAA8E, 0xF3FFFFE3, 
	0xF5555538, 0xF6AAAA8D, 0xF7FFFFE2, 0xF9555537, 
	0xFAAAAA8C, 0xFBFFFFE1, 0xFD555536, 0xFEAAAA8B,
};

uint32_t azo_sawtooth_1k_384khz32bit[768] = {
	0x00000000, 0x00AAAAAA, 0x01555554, 0x01FFFFFE, 
	0x02AAAAA8, 0x03555552, 0x03FFFFFC, 0x04AAAAA6, 
	0x05555550, 0x05FFFFFA, 0x06AAAAA4, 0x0755554E, 
	0x07FFFFF8, 0x08AAAAA2, 0x0955554C, 0x09FFFFF6, 
	0x0AAAAAA0, 0x0B55554A, 0x0BFFFFF4, 0x0CAAAA9E, 
	0x0D555548, 0x0DFFFFF2, 0x0EAAAA9C, 0x0F555546, 
	0x0FFFFFF0, 0x10AAAA9A, 0x11555544, 0x11FFFFEE, 
	0x12AAAA98, 0x13555542, 0x13FFFFEC, 0x14AAAA96, 
	0x15555540, 0x15FFFFEA, 0x16AAAA94, 0x1755553E, 
	0x17FFFFE8, 0x18AAAA92, 0x1955553C, 0x19FFFFE6, 
	0x1AAAAA90, 0x1B55553A, 0x1BFFFFE4, 0x1CAAAA8E, 
	0x1D555538, 0x1DFFFFE2, 0x1EAAAA8C, 0x1F555536, 
	0x1FFFFFE0, 0x20AAAA8A, 0x21555534, 0x21FFFFDE, 
	0x22AAAA88, 0x23555532, 0x23FFFFDC, 0x24AAAA86, 
	0x25555530, 0x25FFFFDA, 0x26AAAA84, 0x2755552E, 
	0x27FFFFD8, 0x28AAAA82, 0x2955552C, 0x29FFFFD6, 
	0x2AAAAA80, 0x2B55552A, 0x2BFFFFD4, 0x2CAAAA7E, 
	0x2D555528, 0x2DFFFFD2, 0x2EAAAA7C, 0x2F555526, 
	0x2FFFFFD0, 0x30AAAA7A, 0x31555524, 0x31FFFFCE, 
	0x32AAAA78, 0x33555522, 0x33FFFFCC, 0x34AAAA76, 
	0x35555520, 0x35FFFFCA, 0x36AAAA74, 0x3755551E, 
	0x37FFFFC8, 0x38AAAA72, 0x3955551C, 0x39FFFFC6, 
	0x3AAAAA70, 0x3B55551A, 0x3BFFFFC4, 0x3CAAAA6E, 
	0x3D555518, 0x3DFFFFC2, 0x3EAAAA6C, 0x3F555516, 
	0x3FFFFFC0, 0x40AAAA6A, 0x41555514, 0x41FFFFBE, 
	0x42AAAA68, 0x43555512, 0x43FFFFBC, 0x44AAAA66, 
	0x45555510, 0x45FFFFBA, 0x46AAAA64, 0x4755550E, 
	0x47FFFFB8, 0x48AAAA62, 0x4955550C, 0x49FFFFB6, 
	0x4AAAAA60, 0x4B55550A, 0x4BFFFFB4, 0x4CAAAA5E, 
	0x4D555508, 0x4DFFFFB2, 0x4EAAAA5C, 0x4F555506, 
	0x4FFFFFB0, 0x50AAAA5A, 0x51555504, 0x51FFFFAE, 
	0x52AAAA58, 0x53555502, 0x53FFFFAC, 0x54AAAA56, 
	0x55555500, 0x55FFFFAA, 0x56AAAA54, 0x575554FE, 
	0x57FFFFA8, 0x58AAAA52, 0x595554FC, 0x59FFFFA6, 
	0x5AAAAA50, 0x5B5554FA, 0x5BFFFFA4, 0x5CAAAA4E, 
	0x5D5554F8, 0x5DFFFFA2, 0x5EAAAA4C, 0x5F5554F6, 
	0x5FFFFFA0, 0x60AAAA4A, 0x615554F4, 0x61FFFF9E, 
	0x62AAAA48, 0x635554F2, 0x63FFFF9C, 0x64AAAA46, 
	0x655554F0, 0x65FFFF9A, 0x66AAAA44, 0x675554EE, 
	0x67FFFF98, 0x68AAAA42, 0x695554EC, 0x69FFFF96, 
	0x6AAAAA40, 0x6B5554EA, 0x6BFFFF94, 0x6CAAAA3E, 
	0x6D5554E8, 0x6DFFFF92, 0x6EAAAA3C, 0x6F5554E6, 
	0x6FFFFF90, 0x70AAAA3A, 0x715554E4, 0x71FFFF8E, 
	0x72AAAA38, 0x735554E2, 0x73FFFF8C, 0x74AAAA36, 
	0x755554E0, 0x75FFFF8A, 0x76AAAA34, 0x775554DE, 
	0x77FFFF88, 0x78AAAA32, 0x795554DC, 0x79FFFF86, 
	0x7AAAAA30, 0x7B5554DA, 0x7BFFFF84, 0x7CAAAA2E, 
	0x7D5554D8, 0x7DFFFF82, 0x7EAAAA2C, 0x7F5554D6, 
	0x80000000, 0x80AAAAAA, 0x81555554, 0x81FFFFFE, 
	0x82AAAAA8, 0x83555552, 0x83FFFFFC, 0x84AAAAA6, 
	0x85555550, 0x85FFFFFA, 0x86AAAAA4, 0x8755554E, 
	0x87FFFFF8, 0x88AAAAA2, 0x8955554C, 0x89FFFFF6, 
	0x8AAAAAA0, 0x8B55554A, 0x8BFFFFF4, 0x8CAAAA9E, 
	0x8D555548, 0x8DFFFFF2, 0x8EAAAA9C, 0x8F555546, 
	0x8FFFFFF0, 0x90AAAA9A, 0x91555544, 0x91FFFFEE, 
	0x92AAAA98, 0x93555542, 0x93FFFFEC, 0x94AAAA96, 
	0x95555540, 0x95FFFFEA, 0x96AAAA94, 0x9755553E, 
	0x97FFFFE8, 0x98AAAA92, 0x9955553C, 0x99FFFFE6, 
	0x9AAAAA90, 0x9B55553A, 0x9BFFFFE4, 0x9CAAAA8E, 
	0x9D555538, 0x9DFFFFE2, 0x9EAAAA8C, 0x9F555536, 
	0x9FFFFFE0, 0xA0AAAA8A, 0xA1555534, 0xA1FFFFDE, 
	0xA2AAAA88, 0xA3555532, 0xA3FFFFDC, 0xA4AAAA86, 
	0xA5555530, 0xA5FFFFDA, 0xA6AAAA84, 0xA755552E, 
	0xA7FFFFD8, 0xA8AAAA82, 0xA955552C, 0xA9FFFFD6, 
	0xAAAAAA80, 0xAB55552A, 0xABFFFFD4, 0xACAAAA7E, 
	0xAD555528, 0xADFFFFD2, 0xAEAAAA7C, 0xAF555526, 
	0xAFFFFFD0, 0xB0AAAA7A, 0xB1555524, 0xB1FFFFCE, 
	0xB2AAAA78, 0xB3555522, 0xB3FFFFCC, 0xB4AAAA76, 
	0xB5555520, 0xB5FFFFCA, 0xB6AAAA74, 0xB755551E, 
	0xB7FFFFC8, 0xB8AAAA72, 0xB955551C, 0xB9FFFFC6, 
	0xBAAAAA70, 0xBB55551A, 0xBBFFFFC4, 0xBCAAAA6E, 
	0xBD555518, 0xBDFFFFC2, 0xBEAAAA6C, 0xBF555516, 
	0xBFFFFFC0, 0xC0AAAA6A, 0xC1555514, 0xC1FFFFBE, 
	0xC2AAAA68, 0xC3555512, 0xC3FFFFBC, 0xC4AAAA66, 
	0xC5555510, 0xC5FFFFBA, 0xC6AAAA64, 0xC755550E, 
	0xC7FFFFB8, 0xC8AAAA62, 0xC955550C, 0xC9FFFFB6, 
	0xCAAAAA60, 0xCB55550A, 0xCBFFFFB4, 0xCCAAAA5E, 
	0xCD555508, 0xCDFFFFB2, 0xCEAAAA5C, 0xCF555506, 
	0xCFFFFFB0, 0xD0AAAA5A, 0xD1555504, 0xD1FFFFAE, 
	0xD2AAAA58, 0xD3555502, 0xD3FFFFAC, 0xD4AAAA56, 
	0xD5555500, 0xD5FFFFAA, 0xD6AAAA54, 0xD75554FE, 
	0xD7FFFFA8, 0xD8AAAA52, 0xD95554FC, 0xD9FFFFA6, 
	0xDAAAAA50, 0xDB5554FA, 0xDBFFFFA4, 0xDCAAAA4E, 
	0xDD5554F8, 0xDDFFFFA2, 0xDEAAAA4C, 0xDF5554F6, 
	0xDFFFFFA0, 0xE0AAAA4A, 0xE15554F4, 0xE1FFFF9E, 
	0xE2AAAA48, 0xE35554F2, 0xE3FFFF9C, 0xE4AAAA46, 
	0xE55554F0, 0xE5FFFF9A, 0xE6AAAA44, 0xE75554EE, 
	0xE7FFFF98, 0xE8AAAA42, 0xE95554EC, 0xE9FFFF96, 
	0xEAAAAA40, 0xEB5554EA, 0xEBFFFF94, 0xECAAAA3E, 
	0xED5554E8, 0xEDFFFF92, 0xEEAAAA3C, 0xEF5554E6, 
	0xEFFFFF90, 0xF0AAAA3A, 0xF15554E4, 0xF1FFFF8E, 
	0xF2AAAA38, 0xF35554E2, 0xF3FFFF8C, 0xF4AAAA36, 
	0xF55554E0, 0xF5FFFF8A, 0xF6AAAA34, 0xF75554DE, 
	0xF7FFFF88, 0xF8AAAA32, 0xF95554DC, 0xF9FFFF86, 
	0xFAAAAA30, 0xFB5554DA, 0xFBFFFF84, 0xFCAAAA2E, 
	0xFD5554D8, 0xFDFFFF82, 0xFEAAAA2C, 0xFF5554D6,
};

//------------------------------------------------------------------------
void pcm_init(const uint32_t samplerate, const uint32_t bitswidth) {
	volatile uint32_t value, c;

	switch(samplerate) {
	case 8000:
	case 16000:
	case 32000:
	case 44100:
	case 48000:
	case 96000:
	case 192000:
	case 384000:
	case 768000:
		break;
	default:
		return;
	}
	switch(bitswidth) {
	case 16:
	case 24:
	case 32:
		break;
	default:
		return;
	}

	/* GPIO setting */
	value = GET32(BCM283X_GPIO_GPFSEL1);
	value &= ~(7 << 24); /* GPIO18 */
	value |=   4 << 24 ; /* ALT0 PCM_CLK */
	value &= ~(7 << 27); /* GPIO19 */
	value |=   4 << 27 ; /* ALT0 PCM_FS */
	PUT32(BCM283X_GPIO_GPFSEL1, value);
	value = GET32(BCM283X_GPIO_GPFSEL2);
	value &= ~(7 <<  3); /* GPIO21 */
	value |=   4 <<  3 ; /* ALT0 PCM_DOUT */
	PUT32(BCM283X_GPIO_GPFSEL2, value);
	PUT32(BCM283X_GPIO_GPPUD, 0);						/* disable pullUD */
	for(c = 0; c < 150; c++) value = GET32(BCM283X_GPIO_GPFSEL1);		/* wait 150 cycles */
	PUT32(BCM283X_GPIO_GPPUDCLK0, (1 << 18) | (1 << 19) | (1 << 21));	/* GPIO18/19/21 pullUD disable */
	for(c = 0; c < 150; c++) value = GET32(BCM283X_GPIO_GPFSEL1);		/* wait 150 cycles */
	PUT32(BCM283X_GPIO_GPPUDCLK0, 0);					/* remove the clock */

	/* Clock setting */
	/*
		0: GND
		1: oscillator 19.2 MHz
		2: testdebug0
		3: testdebug1
		4: PLLA 650 MHz per
		*: PLLB 400 MHz
		5: PLLC 200 MHz per (changes with overclock settings to 1000 MHz)
		6: PLLD 500 MHz per
		7: HDMI auxiliary 216 MHz

		GPCLK0, GPCLK1, and GPCLK2.
		Don't use GPCLK1 (it's probably used for the Ethernet clock).
	*/
	/* BITCLK(BCK,BCLK,BICK) = 32 clocks * 2 channels(stereo) = 64fs */
	/*    8kHz: oscillator 19.2MHz / (   8kHz * 64fs) = 37.5   : I = 37 : F = (0.5   * 4096) = 2048 */
	/*   16kHz: oscillator 19.2MHz / (  16kHz * 64fs) = 18.75  : I = 18 : F = (0.75  * 4096) = 3072 */
	/*   32kHz: oscillator 19.2MHz / (  32kHz * 64fs) =  9.375 : I =  9 : F = (0.375 * 4096) = 1536 */
	/* 44.1kHz: oscillator 19.2MHz / (44.1kHz * 64fs) =  6.802 : I =  6 : F = (0.802 * 4096) = 3284 */
	/*   48kHz: oscillator 19.2MHz / (  48kHz * 64fs) =  6.25  : I =  6 : F = (0.25  * 4096) = 1024 */
	/*   96kHz: oscillator 19.2MHz / (  96kHz * 64fs) =  3.125 : I =  3 : F = (0.125 * 4096) =  512 */
	/*  192kHz:       PLLD 500 MHz / ( 192kHz * 64fs) = 40.690 : I = 40 : F = (0.690 * 4096) = 2826 */
	/*  384kHz:       PLLD 500 MHz / ( 384kHz * 64fs) = 20.345 : I = 20 : F = (0.345 * 4096) = 1413 */
	/*  768kHz:       PLLD 500 MHz / ( 768kHz * 64fs) = 10.172 : I = 10 : F = (0.172 * 4096) =  704 */
	switch(samplerate) {
	case 8000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x21);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x25800);	/* Div by I=37:F=2048 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x211);		/* Enable Clock Generator, 1stage MASH, oscillator */
		break;
	case 16000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x21);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x12C00);	/* Div by I=18:F=3072 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x211);		/* Enable Clock Generator, 1stage MASH, oscillator */
		break;
	case 32000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x21);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x9600);		/* Div by I= 9:F=1536 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x211);		/* Enable Clock Generator, 1stage MASH, oscillator */
		break;
	case 44100:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x21);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x6CD4);		/* Div by I= 6:F=3284 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x211);		/* Enable Clock Generator, 1stage MASH, oscillator */
		break;
	case 48000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x21);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x6400);		/* Div by I= 6:F=1024 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x211);		/* Enable Clock Generator, 1stage MASH, oscillator */
		break;
	case 96000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x21);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x3200);		/* Div by I= 3:F= 512 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x211);		/* Enable Clock Generator, 1stage MASH, oscillator */
		break;
	case 192000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, PLLD */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x28B0A);	/* Div by I=40:F=2826 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 384000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, PLLD */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0x14585);	/* Div by I=20:F=1413 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 768000:
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, PLLD */
		PUT32(BCM283X_CM_PCMDIV, BCM283X_CM_PASSWORD + 0xA2C0);		/* Div by I=10:F= 704 */
		PUT32(BCM283X_CM_PCMCTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	}

	/* PCM init */
	/* MODE_A Register */
	/*
		bit24     FTXP : Transmit Frame Packed Mode
		 0 = TX FIFO word is written into a single channel.
		 1 = TX FIFO word is split into 2 16 bit words and used to fill both data channels in the same frame.
		bit22     CLKI : Clock Invert this logically inverts the PCM_CLK signal.
		 0  = Outputs change on rising edge of clock, inputs are sampled on falling edge.
		 1* = Outputs change on falling edge of clock, inputs are sampled on rising edge.
		bit21      FSM : Frame Sync Invert This logically inverts the frame sync signal.
		 0* = Master mode.
		 1  = Slave mode.
		bit20      FSI : Frame Sync Invert This logically inverts the frame sync signal.
		 0* = FS is normally low and goes high to indicate frame sync.
		 1  = FS is normally high and goes low to indicate frame sync.
		bit19:10  FLEN : Frame Length - Sets the frame length to (FLEN+1) clocks.
		 Used only when FSM == 0.
		bit 9: 0 FSLEN : Frame Sync Length - Sets the frame sync length to (FSLEN) clocks.
		 Used only when FSM == 0.
		 PCM_FS will remain permanently active if FSLEN >= FLEN.
		 0  = frame sync pulse is off.
	*/
	switch(bitswidth) {
	case 16:
		PUT32(BCM283X_PCM_MODE_A, 0x140FC20);	/* FTXP=1, CLKI=1, FLEN=64-1, FSLEN=32 */
		break;
	case 24:
	case 32:
		PUT32(BCM283X_PCM_MODE_A, 0x040FC20);	/* FTXP=0, CLKI=1, FLEN=64-1, FSLEN=32 */
		break;
	}
	/* TXC_A Register */
	/*
		bit31    CH1WEX : Channel 1 Width Extension Bit
		 This is the MSB of the channel 1 width (CH1WID). It allows widths greater than 24 bits
		bit30     CH1EN : Channel 1 Enable
		bit29:20 CH1POS : Channel 1 Position
		 0  = indicates the first clock of frame.
		bit19:16 CH1WID : Channel 1 Width
		 width of channel 1 in bit clocks.
		 This field has been extended with the CH1WEX bit giving a total width of (CH1WEX*16)+CH1WID+8.
		 The Maximum supported width is 32 bits.
		 0  = 8 bits wide
		bit15    CH2WEX : Channel 2 Width Extension Bit
		bit14     CH2EN : Channel 2 Enable
		bit13: 4 CH2POS : Channel 2 Position
		bit 3: 0 CH2WID : Channel 2 Width
	*/
	switch(bitswidth) {
	case 16:
		PUT32(BCM283X_PCM_TXC_A, 0x40184218);	/* CH1WEX=0, CH1EN=CH2EN=1, CH1POS=1, CH2POS=33, CH1WID=CH2WID=8 */
		break;
	case 24:
		PUT32(BCM283X_PCM_TXC_A, 0xC010C210);	/* CH1WEX=1, CH1EN=CH2EN=1, CH1POS=1, CH2POS=33, CH1WID=CH2WID=0 */
		break;
	case 32:
//		PUT32(BCM283X_PCM_TXC_A, 0xC008C208);	/* CH1WEX=1, CH1EN=CH2EN=1, CH1POS=0, CH2POS=32, CH1WID=CH2WID=8 */ /* Left-Justified, not I2S */
		PUT32(BCM283X_PCM_TXC_A, 0xC018C218);	/* CH1WEX=1, CH1EN=CH2EN=1, CH1POS=1, CH2POS=33, CH1WID=CH2WID=8 */
		break;
	}
	/* CS_A Register */
	/*
		bit24      SYNC : PCM Clock sync helper.
		 a software synchronisation mechanism to allow the software to detect when 2 PCM clocks have occurred.
		bit19       TXD : Indicates that the TX FIFO can accept data
		 0 = TX FIFO is full and so cannot accept more data.
		 1 = TX FIFO has space for at least 1 sample.
		bit17       TXW : Indicates that the TX FIFO needs Writing
		 0 = TX FIFO is at least TXTHR full.
		 1 = TX FIFO is less then TXTHR full.
		bit13    TXSYNC : TX FIFO Sync
		bit 9     DMAEN : DMA DREQ Enable
		 0* = Don't generate DMA DREQ requests.
		 1  = Generates a TX DMA DREQ requests whenever the TX FIFO level is lower than TXREQ
		bit 6: 5  TXTHR : TX FIFO threshold at which point the TXW flag is set
		 00  = set when the TX FIFO is empty
		 01  = set when the TX FIFO is less than full
		 10  = set when the TX FIFO is less than full
		 11* = set when the TX FIFO is full but for one sample
		bit 3     TXCLR : Clear the TX FIFO
		bit 2      TXON : Enable transmission
		bit 0        EN : Enable the PCM Audio Interface
	*/
//	PUT32(BCM283X_PCM_CS_A, 0x100206D);	/* SYNC=1, TXSYNC=1, TXTHR=3, TXCLR=1, TXON=1, EN=1 */
	PUT32(BCM283X_PCM_CS_A, 0x206D);	/* SYNC=0, TXSYNC=1, TXTHR=3, TXCLR=1, TXON=1, EN=1 */

	/* TXCLR + SYNC and wait */
	while(GET32(BCM283X_PCM_CS_A) & ((1 << 3) | (1 << 24)));
}

//------------------------------------------------------------------------
void mclk_init(const uint32_t mclk) {
	uint32_t ra;

	/* GPIO function set */
	ra = GET32(BCM283X_GPIO_GPFSEL0);
	ra &= ~(7<<12); /* GPIO4 GPCLK0 */
	ra |=   4<<12 ; /* ALT0 */
	PUT32(BCM283X_GPIO_GPFSEL0, ra);

	/* PullUD disable */
	PUT32(BCM283X_GPIO_GPPUD, 0);		/* disable pullUD */
	for(ra = 0; ra < 150; ra++) dummy();	/* wait 150 cycles */
	PUT32(BCM283X_GPIO_GPPUDCLK0, 1 << 4);	/* GPIO4 pullUD disable */
	for(ra = 0; ra < 150; ra++) dummy();	/* wait 150 cycles */
	PUT32(BCM283X_GPIO_GPPUDCLK0, 0);	/* remove the clock */

	/* Clock setting */
	/*
		0: GND
		1: oscillator 19.2 MHz
		2: testdebug0
		3: testdebug1
		4: PLLA 650 MHz per
		*: PLLB 400 MHz
		5: PLLC 200 MHz per (changes with overclock settings to 1000 MHz)
		6: PLLD 500 MHz per
		7: HDMI auxiliary 216 MHz

		GPCLK0, GPCLK1, and GPCLK2.
		Don't use GPCLK1 (it's probably used for the Ethernet clock).
	*/
	/* GP0CLK  8.1920MHz: PLLD 500 MHz /  8.1920MHz = 61.0351 : I = 61 : F = (0.0351 * 4096) =  143 */
	/* GP0CLK 11.2896MHz: PLLD 500 MHz / 11.2896MHz = 44.2885 : I = 44 : F = (0.2885 * 4096) = 1181 */
	/* GP0CLK 12.2880MHz: PLLD 500 MHz / 12.2880MHz = 40.6901 : I = 40 : F = (0.6901 * 4096) = 2826 */
	/* GP0CLK 16.3840MHz: PLLD 500 MHz / 16.3840MHz = 30.5175 : I = 30 : F = (0.5175 * 4096) = 2119 */
	/* GP0CLK 16.9344MHz: PLLD 500 MHz / 16.9344MHz = 29.5256 : I = 29 : F = (0.5256 * 4096) = 2152 */
	/* GP0CLK 18.4320MHz: PLLD 500 MHz / 18.4320MHz = 27.1267 : I = 27 : F = (0.1267 * 4096) =  518 */
	/* GP0CLK 22.5792MHz: PLLD 500 MHz / 22.5792MHz = 22.1442 : I = 22 : F = (0.1442 * 4096) =  590 */
	/* GP0CLK 24.5760MHz: PLLD 500 MHz / 24.5760MHz = 20.3450 : I = 20 : F = (0.3450 * 4096) = 1413 */
	/* GP0CLK 32.7680MHz: PLLD 500 MHz / 32.7680MHz = 15.2587 : I = 15 : F = (0.2587 * 4096) = 1059 */
	/* GP0CLK 33.8688MHz: PLLD 500 MHz / 33.8688MHz = 14.7628 : I = 14 : F = (0.7628 * 4096) = 3124 */
	/* GP0CLK 36.8640MHz: PLLD 500 MHz / 36.8640MHz = 13.5633 : I = 13 : F = (0.5633 * 4096) = 2307 */
	/* GP0CLK 45.1584MHz: PLLD 500 MHz / 45.1584MHz = 11.0721 : I = 11 : F = (0.0721 * 4096) =  295 */
	/* GP0CLK 49.1520MHz: PLLD 500 MHz / 49.1520MHz = 10.1725 : I = 10 : F = (0.1725 * 4096) =  706 */

	switch(mclk) {
	case 8192000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x3D08F);	/* Div by I=61:F= 143 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 11289600:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x2C49D);	/* Div by I=44:F=1181 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 12288000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x28B0A);	/* Div by I=40:F=2826 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 16384000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x1E847);	/* Div by I=30:F=2119 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 16934400:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x1D868);	/* Div by I=29:F=2152 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 18432000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x1B206);	/* Div by I=27:F= 518 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 22579200:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x1624E);	/* Div by I=22:F= 590 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 24576000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD + 0x14585);	/* Div by I=20:F=1413 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 32768000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD +  0xF423);	/* Div by I=15:F=1059 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 33868800:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD +  0xEC34);	/* Div by I=14:F=3124 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 36864000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD +  0xD903);	/* Div by I=13:F=2307 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 45158400:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD +  0xB127);	/* Div by I=11:F= 295 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	case 49152000:
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD +  0x26);		/* Disable Clock Generator, oscillator */
		PUT32(BCM283X_CM_GP0DIV, BCM283X_CM_PASSWORD +  0xA2C2);	/* Div by I=10:F= 706 */
		PUT32(BCM283X_CM_GP0CTL, BCM283X_CM_PASSWORD + 0x216);		/* Enable Clock Generator, 1stage MASH, PLLD */
		break;
	}
}

//------------------------------------------------------------------------
/*
	16bit 1channel -> 32bit 2channels(pack) : x2 size
	16bit 2channel -> 32bit 2channels(pack) : same size
	24bit 1channel -> 32bit 2channels : x2.5  size
	24bit 2channel -> 32bit 2channels : x1.25 size
	32bit 1channel -> 32bit 2channels : x2    size
	32bit 2channel -> 32bit 2channels : x1    size(copy)
*/
void convert_pcmtoraw(azo_rawpcmdata_t* rawdata, const azo_pcmdata_t* pcmdata) {
	uint32_t loc, loc2;

	if(pcmdata->data == 0) {
		return;
	}
	if(rawdata->data == 0) {
		return;
	}

	if(pcmdata->channels == 0) {
		return;
	}
	switch(pcmdata->samplerate) {
	case 8000:
	case 16000:
	case 32000:
	case 44100:
	case 48000:
	case 96000:
	case 192000:
	case 384000:
	case 768000:
		break;
	default:
		return;
	}
	switch(pcmdata->bitswidth) {
	case 16:
	case 24:
	case 32:
		break;
	default:
		return;
	}

	rawdata->samplerate = pcmdata->samplerate;
	rawdata->mclk = pcmdata->mclk;
	rawdata->bitswidth = pcmdata->bitswidth;
	rawdata->loopcount = pcmdata->loopcount;
	rawdata->endless = pcmdata->endless;
	if(rawdata->loopcount == 0 && rawdata->endless != 0) {
		rawdata->loopcount = 1;
	}

	loc2 = 0;
	for(loc = 0; loc < pcmdata->size;) {
		switch(pcmdata->bitswidth) {
		case 16:
			if(pcmdata->channels == 1) {
				((uint32_t*)((uint32_t)rawdata->data + loc2))[0] = ((uint32_t)(((uint16_t*)((uint32_t)pcmdata->data + loc))[0]) << 16) | ((uint16_t*)((uint32_t)pcmdata->data + loc))[0];
				loc += 2;
			} else {
				((uint32_t*)((uint32_t)rawdata->data + loc2))[0] = ((uint32_t)(((uint16_t*)((uint32_t)pcmdata->data + loc))[0]) << 16) | ((uint16_t*)((uint32_t)pcmdata->data + loc))[1];
				loc += 2 * pcmdata->channels;
			}
			loc2 += 4;
			break;
		case 24:
			if(pcmdata->channels == 1) {
				((uint32_t*)((uint32_t)rawdata->data + loc2))[0] = ((uint32_t*)((uint32_t)rawdata->data + loc2))[1] = ((uint32_t)(((uint8_t*)((uint32_t)pcmdata->data + loc))[2]) << 16) | ((uint32_t)(((uint8_t*)((uint32_t)pcmdata->data + loc))[1]) << 8) | ((uint8_t*)((uint32_t)pcmdata->data + loc))[0];
				loc += 3;
			} else {
				((uint32_t*)((uint32_t)rawdata->data + loc2))[0] = ((uint32_t)(((uint8_t*)((uint32_t)pcmdata->data + loc))[2]) << 16) | (uint32_t)(((uint8_t*)((uint32_t)pcmdata->data + loc))[1]) << 8 | ((uint8_t*)((uint32_t)pcmdata->data + loc))[0];
				((uint32_t*)((uint32_t)rawdata->data + loc2))[1] = ((uint32_t)(((uint8_t*)((uint32_t)pcmdata->data + loc))[5]) << 16) | (uint32_t)(((uint8_t*)((uint32_t)pcmdata->data + loc))[4]) << 8 | ((uint8_t*)((uint32_t)pcmdata->data + loc))[3];
				loc += 3 * pcmdata->channels;
			}
			loc2 += 8;
			break;
		case 32:
			if(pcmdata->channels == 1) {
				((uint32_t*)((uint32_t)rawdata->data + loc2))[0] = ((uint32_t*)((uint32_t)rawdata->data + loc2))[1] = ((uint32_t*)((uint32_t)pcmdata->data + loc))[0];
				loc += 4;
			} else {
				((uint32_t*)((uint32_t)rawdata->data + loc2))[0] = ((uint32_t*)((uint32_t)pcmdata->data + loc))[0];
				((uint32_t*)((uint32_t)rawdata->data + loc2))[1] = ((uint32_t*)((uint32_t)pcmdata->data + loc))[1];
				loc += 4 * pcmdata->channels;
			}
			loc2 += 8;
			break;
		}
	}

	rawdata->size = loc2;
}

//------------------------------------------------------------------------
void pcm_raw_play(azo_rawpcmdata_t* rawdata) {
	uint32_t nowloopcount;
	uint32_t value;

	if(rawdata->data == 0) {
		return;
	}

	switch(rawdata->samplerate) {
	case 8000:
	case 16000:
	case 32000:
	case 44100:
	case 48000:
	case 96000:
	case 192000:
	case 384000:
	case 768000:
		break;
	default:
		return;
	}
	switch(rawdata->bitswidth) {
	case 16:
	case 24:
	case 32:
		break;
	default:
		return;
	}
	if(rawdata->loopcount == 0 && rawdata->endless == 0) {
		return;
	}

	/* DMA0 enable */
	PUT32(BCM283X_DMA_ENABLE, 0x1);
	/* DMA Control Block */
	dma_cb_data.transfer_information = 0x20140;	/* Peripheral number 2(PCM TX), Control Destination Writes with DREQ. Destination address does not change. Source Address Increment 4 */
	dma_cb_data.src_address = (uint32_t)(rawdata->data);
	dma_cb_data.dst_address = ARMTOVC_PER_ADDRESS(BCM283X_PCM_FIFO_A);
	dma_cb_data.length = rawdata->size;
	dma_cb_data.tdmode_stride = 0;
	dma_cb_data.next_control_block_address = 0;
	dma_cb_data.reserved1 = 0;
	dma_cb_data.reserved2 = 0;
	if(rawdata->endless != 0) {
		/* loop */
		dma_cb_data.next_control_block_address = (uint32_t)&dma_cb_data;
	}
	/* DMA set CB */
	PUT32(BCM283X_DMA0_BASE + BCM283X_DMA_CONBLK_AD, (uint32_t)&dma_cb_data);

	/* PCM DREQ_A Register */
	/*
		bit14: 8 : TX : TX Request Level 0x0(0) - 0x3F(63)
	*/
	value  = GET32(BCM283X_PCM_DREQ_A);
	value &= ~(0x7F00);
	value |=   0x3000 ;	/* level 48 */
	PUT32(BCM283X_PCM_DREQ_A, value);
	/* PCM Enable DREQ */
	value  = GET32(BCM283X_PCM_CS_A);
	value |= 0x200;		/* DMA DREQ Enable */
	PUT32(BCM283X_PCM_CS_A, value);

	if(rawdata->endless == 0) {
		for(nowloopcount = 0; nowloopcount < rawdata->loopcount; nowloopcount++) {
			/* DMA activate */
			PUT32(BCM283X_DMA0_BASE + BCM283X_DMA_CS, 0x1);
			/* wait DMA transfer end */
			while((GET32(BCM283X_DMA0_BASE + BCM283X_DMA_CS) & 0x2) == 0);
			/* clear end */
			PUT32(BCM283X_DMA0_BASE + BCM283X_DMA_CS, 0x2);
		}
	} else {
		/* DMA activate */
		PUT32(BCM283X_DMA0_BASE + BCM283X_DMA_CS, 0x1);
	}
}

//------------------------------------------------------------------------
int notmain(unsigned int earlypc)
{
	azo_pcmdata_t pcmdata = {
		96,
		1,
		48000,
		36864000,
		16,
		1,
		1,
		azo_sin_1k_48khz16bit
	};

/*	azo_pcmdata_t pcmdata = {
		96,
		1,
		48000,
		36864000,
		16,
		1,
		1,
		azo_square_1k_48khz16bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		96,
		1,
		48000,
		36864000,
		16,
		1,
		1,
		azo_triangle_1k_48khz16bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		96,
		1,
		48000,
		36864000,
		16,
		1,
		1,
		azo_sawtooth_1k_48khz16bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		192,
		1,
		48000,
		49152000,
		32,
		1,
		1,
		azo_sin_1k_48khz32bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		384,
		1,
		96000,
		49152000,
		32,
		1,
		1,
		azo_sin_1k_96khz32bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		768,
		1,
		384000,
		36864000,
		16,
		1,
		1,
		azo_sin_1k_384khz16bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		1536,
		1,
		384000,
		36864000,
		32,
		1,
		1,
		azo_sin_1k_384khz32bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		1536,
		1,
		384000,
		36864000,
		32,
		1,
		1,
		azo_square_1k_384khz32bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		1536,
		1,
		384000,
		36864000,
		32,
		1,
		1,
		azo_triangle_1k_384khz32bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		1536,
		1,
		384000,
		36864000,
		32,
		1,
		1,
		azo_sawtooth_1k_384khz32bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		3072,
		1,
		768000,
		49152000,
		32,
		1,
		1,
		azo_sin_1k_768khz32bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		576,
		1,
		192000,
		49152000,
		24,
		1,
		1,
		azo_sin_1k_192khz24bit
	};
*/
/*	azo_pcmdata_t pcmdata = {
		288,
		1,
		96000,
		49152000,
		24,
		1,
		1,
		azo_sin_1k_96khz24bit
	};
*/
	azo_rawpcmdata_t rawdata = {
		0,
		0,
		0,
		0,
		0,
		0,
		azo_sin_1k_raw
	};

	pcm_init(pcmdata.samplerate, pcmdata.bitswidth);
	mclk_init(pcmdata.mclk);
	convert_pcmtoraw(&rawdata, &pcmdata);
	pcm_raw_play(&rawdata);

	while(1);

	return(0);
}

//-------------------------------------------------------------------------

